<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ch√∫c m·ª´ng 20-10 üíê</title>
  <style>
    html,body{
      height:100%;margin:0;background:#000;overflow:hidden;
      font-family:'Inter',sans-serif;color:#ffd6ea;
    }
    canvas{position:fixed;inset:0;display:block;background:#000;}
    .card{
      position:fixed;
      left:50%;top:50%;
      transform:translate(-50%,-50%) scale(.9);
      background:rgba(255,20,147,0.08);
      border:1px solid rgba(255,20,147,0.25);
      backdrop-filter:blur(10px);
      padding:28px 40px;
      border-radius:20px;
      text-align:center;
      box-shadow:0 0 25px rgba(255,20,147,0.3);
      opacity:0;pointer-events:none;
      transition:opacity .6s ease,transform .6s ease;
      z-index:10;
    }
    .card.show{opacity:1;transform:translate(-50%,-50%) scale(1);pointer-events:auto}
    .card h1{margin:0;font-size:30px;color:#ff9ad6;}
    .card p{
      margin-top:12px;font-size:15px;
      white-space:pre-wrap;display:inline-block;
      border-right:2px solid #ff9ad6;
      animation:blink .8s step-end infinite alternate;
    }
    @keyframes blink{50%{border-color:transparent}}
    .top-right-note{
      position:fixed;right:14px;top:14px;color:#ff9ad6;
      font-size:13px;opacity:.8;z-index:9;
    }
  </style>
</head>
<body>
  <div class="top-right-note">Nh·∫•n m√†n h√¨nh ƒë·ªÉ hi·ªán/·∫©n popup üíñ</div>
  <canvas id="c"></canvas>

  <div class="card" id="popup">
    <h1>Ch√∫c m·ª´ng 20-10</h1>
    <p id="subtitle"></p>
  </div>

  <script>
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');

  let W = canvas.width = innerWidth;
  let H = canvas.height = innerHeight;

  const fontSize = 18;
  const columns = Math.floor(W / fontSize);
  const drops = Array(columns).fill(1);
  const color = '255,20,147'; // h·ªìng neon

  const letters = 'CH√öCM·ª™NG20-10HAPPYWOMENSDAYüíñüíê8386'.split('');

  function draw() {
    ctx.fillStyle = 'rgba(0,0,0,0.08)'; // hi·ªáu ·ª©ng fade m∆∞·ª£t
    ctx.fillRect(0, 0, W, H);
    ctx.fillStyle = `rgba(${color},0.85)`;
    ctx.font = fontSize + 'px monospace';

    for (let i = 0; i < drops.length; i++) {
      const text = letters[Math.floor(Math.random() * letters.length)];
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);

      // random reset d√≤ng sau khi ch·∫°m ƒë√°y
      if (drops[i] * fontSize > H && Math.random() > 0.98)
        drops[i] = 0;

      drops[i] += 0.5; // t·ªëc ƒë·ªô r∆°i ch·∫≠m h∆°n
    }

    requestAnimationFrame(draw);
  }

  draw();

  addEventListener('resize', ()=>{
    W = canvas.width = innerWidth;
    H = canvas.height = innerHeight;
  });

  // popup xu·∫•t hi·ªán + typing text
  const popup = document.getElementById('popup');
  const subtitleEl = document.getElementById('subtitle');
  const message = "Ch√∫c m√†y 1 ng√†y 20/10 th·∫≠t vui v·∫ª üíê\n8386 v·∫°n s·ª± nh∆∞ √Ω, t·ª∑ s·ª± nh∆∞ m∆°,\ntri·ªáu tri·ªáu b·∫•t ng·ªù v√† lu√¥n xinh ƒë·∫πp h·ªçc gi·ªèi  üêí üêí üêí";

  function showPopup(){
    popup.classList.add('show');
    typeText(message, subtitleEl);
  }

  function typeText(text, el){
    let i=0;el.textContent='';
    const interval=setInterval(()=>{
      el.textContent+=text[i];
      i++;
      if(i>=text.length) clearInterval(interval);
    },40);
  }

  setTimeout(showPopup,3000);

  let visible=true;
  addEventListener('pointerdown',()=>{
    visible=!visible;
    if(visible) showPopup();
    else popup.classList.remove('show');
  });
  </script>
</body>
</html>
